<h1>
  Actor #<%= @the_actor.id %> details
</h1>

<a href="/actors">
  Go back
</a>

<div>
  <a href="/delete_actor/192">
    Delete actor
  </a>
</div>

<hr>

<form action="/modify_actor/192" method="post">
  <div>
    <label for="name_box">
      Name
    </label>

    <input type="text" id="name_box" name="query_name" value="Morgan Freeman">
  </div>

  <div>
    <label for="dob_box">
      Dob
    </label>

    <input type="date" id="dob_box" name="query_dob" value="1937-06-01">
  </div>

  <div>
    <label for="bio_box">
      Bio
    </label>

    <textarea id="bio_box" name="query_bio" rows="3">Morgan Porterfield Freeman, Jr. is an American actor, film director, and narrator. He is noted for his reserved demeanor and authoritative speaking voice. Freeman has received Academy Award nominations for his performances in Street Smart, Driving Miss Daisy, The Shawshank Redemption and Invictus and won in 2005 for Million Dollar Baby. He has also won a Golden Globe Award and a Screen Actors Guild Award.

Morgan Freeman was born in Memphis, Tennessee, the son of Mayme Edna (n√©e Revere) and Morgan Porterfield Freeman, Sr., a barber who died in 1961 from liver cirrhosis. Freeman was sent as an infant to his paternal grandmother in Charleston, Mississippi. He has three older siblings. Freeman&#39;s family moved frequently during his childhood, living in Greenwood, Mississippi; Gary, Indiana; and finally Chicago, Illinois.

Freeman made his acting debut at age 9, playing the lead role in a school play. He then attended Broad Street High School, currently Threadgill Elementary School, in Mississippi. At age 12, he won a statewide drama competition, and while still at Broad Street High School, he performed in a radio show based in Nashville, Tennessee. In 1955, he graduated from Broad Street High School, but turned down a partial drama scholarship from Jackson State University, opting instead to work as a mechanic in the United States Air Force.

Freeman moved to Los Angeles in the early 1960s and worked as a transcript clerk at Los Angeles Community College. During this period, he also lived in New York City, working as a dancer at the 1964 World&#39;s Fair, and in San Francisco, where he was a member of the Opera Ring music group. Freeman acted in a touring company version of The Royal Hunt of the Sun, and also appeared as an extra in the 1965 film The Pawnbroker. He made his off-Broadway debut in 1967, opposite Viveca Lindfors in The Nigger Lovers (about the civil rights era &quot;Freedom Riders&quot;), before debuting on Broadway in 1968&#39;s all-black version of Hello, Dolly!, which also starred Pearl Bailey and Cab Calloway.

Freeman was married to Jeanette Adair Bradshaw from October 22, 1967, until 1979. He married Myrna Colley-Lee on June 16, 1984. The couple separated in December 2007. Freeman&#39;s attorney and business partner, Bill Luckett, announced in August 2008 that Freeman and his wife are in the process of divorce. He has two sons from previous relationships. He adopted his first wife&#39;s daughter and the couple also had a fourth child. Freeman lives in Charleston, Mississippi, and New York City. He has a private pilot&#39;s license, which he earned at age 65, and co-owns and operates Madidi, a fine dining restaurant, and Ground Zero, a blues club, both located in Clarksdale, Mississippi. He officially opened his second Ground Zero in Memphis, Tennessee on April 24, 2008.

Freeman has publicly criticized the celebration of Black History Month and does not participate in any related events, saying, &quot;I don&#39;t want a black history month. Black history is American history.&quot; He says the only way to end racism is to stop talking about it, and he notes that there is no &quot;white history month&quot;. Freeman once said on an interview with 60 Minutes&#39; Mike Wallace: &quot;I am going to stop calling you a white man and I&#39;m going to ask you to stop calling me a black man.</textarea>
  </div>

  <div>
    <label for="image_box">
      Image
    </label>

    <input type="text" id="image_box" name="query_image" value="https://image.tmdb.org/t/p/w500/oIciQWr8VwKoR8TmAw1owaiZFyb.jpg">
  </div>

  <button>
    Update actor
  </button>
</form>

<hr>

<dl>
  <dt>
    Name
  </dt>
  <dd>
    <%= @the_actor.name %>
  </dd>

  <dt>
    Dob
  </dt>
  <dd>
    <%= @the_actor.dob %>
  </dd>

  <dt>
    Bio
  </dt>
  <dd>
    <%= @the_actor.bio %>
  </dd>

  <dt>
    Image
  </dt>
  <dd>
    <img src="<%= @the_actor.image %>" style="width:250px;">
  </dd>

  <dt>
    Created at
  </dt>
  <dd>
    <%= @the_actor.created_at %>
  </dd>

  <dt>
    Updated at
  </dt>
  <dd>
    <%= @the_actor.updated_at %>
  </dd>
</dl>

<hr>

<h2>Filmography</h2>

<table border="1">
  <tr>
    <th>
      Title
    </th>

    <th>
      Year
    </th>

    <th>
      Director
    </th>

    <th>
      Character name
    </th>

    <th>
    </th>
  </tr>

  <% a_id = @the_actor.id %>

  <% matching_characters = Character.where({ :actor_id => a_id }) %>

  <% matching_characters.each do |a_character| %>
    <% m_id = a_character.movie_id %>

    <% matching_movies = Movie.where({ :id => m_id }) %>

    <% the_movie = matching_movies.at(0) %>

    <tr>
      <td>
        <%= the_movie.title %>
      </td>

      <td>
        <%= the_movie.year %>
      </td>

      <td>
        <% d_id = the_movie.director_id %>
        
        <% matching_directors = Director.where({ :id => d_id }) %>
        
        <% the_director = matching_directors.at(0) %>

        <%= the_director.name %>
      </td>

      <td>
        <%= a_character.name %>
      </td>

      <td>
        <a href="/movies/<%= the_movie.id %>">
          Show details
        </a>
      </td>
    </tr>
  <% end %>
</table>
